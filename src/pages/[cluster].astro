---
import { client } from '../lib/sanity';
import Layout from '../layouts/Layout.astro';

export const prerender = false;

const { cluster: slug } = Astro.params;

// Buscamos los datos del clúster en Sanity
const cluster = await client.fetch(
  `*[_type == "cluster" && slug.current == $slug][0]`,
  { slug }
);

if (!cluster) return Astro.redirect('/404');
---

<Layout title={cluster.title}>
  <main class="max-w-4xl mx-auto py-20 px-6">
    <h1 class="text-5xl font-black mb-8">{cluster.title}</h1>
    <div class="prose lg:prose-xl text-gray-700 leading-relaxed">
      {cluster.description || "Contenido estratégico para este clúster en preparación."}
    </div>
    <div class="mt-12">
        <a href="/" class="text-blue-600 font-bold">← Volver al Inicio</a>
    </div>
  </main>
</Layout>